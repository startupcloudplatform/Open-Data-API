<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.inno.odag.mapper">

	<insert id="bookmarkOpenapiInsert" parameterType="BookmarkOpenapiDto">
		INSERT INTO bookmark_openapi (bookmark_no, openapi_no)
		VALUES (#{bookmarkNo}, #{openapiNo})
	</insert>

	<select id="bookmarkOpenapi" resultType="BookmarkOpenapiDto" parameterType="BookmarkOpenapiDto"> 
        SELECT * FROM bookmark_openapi
		<where>
			<if test="bookmarkOpenapiNo != 0 and bookmarkOpenapiNo > 0">
				AND bookmark_openapi_no = #{bookmarkOpenapiNo}
			</if>
		</where>
	</select>

	<select id="bookmarkOpenapiList" resultType="BookmarkOpenapiDto" parameterType="BookmarkOpenapiDto"> 
        SELECT * FROM bookmark_openapi
		<where>
			<if test="bookmarkNo != 0 and bookmarkNo > 0">
				AND bookmark_no = #{bookmarkNo}
			</if>
		</where>
	</select>

	<update id="bookmarkOpenapiUpdate" parameterType="BookmarkOpenapiDto">
		UPDATE bookmark_openapi
		<set>
		  <if test="bookmarkNo != null and bookmarkNo !=''">
		    bookmark_no = #{bookmarkNo},
		  </if>
		  <if test="openapiNo != null and openapiNo !=''">
		    openapi_no = #{openapiNo}
		  </if>
		</set>
		WHERE bookmark_openapi_no = #{bookmarkOpenapiNo}
	</update>
	
	<delete id="bookmarkOpenapiDelete" parameterType="BookmarkOpenapiDto">
		DELETE FROM bookmark_openapi WHERE bookmark_openapi_no = #{bookmarkOpenapiNo}
	</delete>

	<delete id="bookmarkOpenapiInfosDelete" parameterType="BookmarkDto">
		DELETE FROM bookmark_openapi WHERE bookmark_no = #{bookmarkNo}
	</delete>
	
</mapper>
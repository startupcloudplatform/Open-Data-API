<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.inno.odag.mapper">

	<insert id="openidInsert" parameterType="OpenidDto">
		INSERT INTO openid(openid_no, user_no, openapi_data, openapi_type, openapi_provider)
		VALUES(#{openidNo}, #{userNo}, #{openapiData}, #{openapiType}, #{openapiProvider})
	</insert>
	
	<update id="openidUpdate" parameterType="OpenidDto">
		UPDATE openid
		<set>
		  <if test="userNo != null and userNo !=''">
		    user_no = #{userNo},
		  </if>
		  <if test="openapiData != null and openapiData !=''">
		    openapi_data = #{openapiData},
		  </if>
		  <if test="openapiType != null and openapiType !=''">
		    openapi_type = #{openapiType},
		  </if>
		  <if test="openapiProvider != null and openapiProvider !=''">
		    openapi_type = #{openapiProvider}
		  </if>		  
		</set>
		WHERE openid_no = #{openidNo}
	</update>
</mapper>
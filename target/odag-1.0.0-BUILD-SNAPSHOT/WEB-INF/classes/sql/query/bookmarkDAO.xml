<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.inno.odag.mapper">

	<insert id="bookmarkInsert" parameterType="BookmarkDto">
		INSERT INTO bookmark (bookmark_name, user_no)
		VALUES (#{bookmarkName}, #{userNo})
	</insert>

	<select id="bookmark" resultType="BookmarkDto" parameterType="BookmarkDto">
		SELECT bookmark_no      AS  bookmarkNo
             , bookmark_name    AS  bookmarkName
             , user_no			AS  userNo        
          FROM bookmark
		<where>
			<if test="bookmarkNo != null and bookmarkNo != ''">
				AND bookmark_no = #{bookmarkNo}
			</if>
		</where>
	</select>

	<select id="bookmarkList" resultType="BookmarkDto" parameterType="BookmarkDto">
		SELECT * FROM bookmark
		<where>
			<if test="userNo != null and userNo != ''">
				AND user_no = #{userNo}
			</if>
		</where>
	</select>

	<update id="bookmarkUpdate" parameterType="BookmarkDto">
		UPDATE bookmark
		<set>
		  <if test="bookmarkName != null and bookmarkName !=''">
		    bookmark_name = #{bookmarkName},
		  </if>
		  <if test="userNo != null and userNo !=''">
		    user_no = #{userNo}
		  </if>
		</set>
		WHERE bookmark_no = #{bookmarkNo}
	</update>
	
	<delete id="bookmarkDelete" parameterType="BookmarkDto">
		DELETE FROM bookmark WHERE bookmark_no = #{bookmarkNo}
	</delete>
</mapper>